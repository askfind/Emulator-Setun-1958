Алгоритм работы троичного калькулятора с ИП-Т, ИП-2.


# 1. Загрузка бинарного формата загрузки и запуск программы


Вариант №1
----------

Программирование "Сетунь" из 1958 года.

Vladimir V., [04.04.2025 00:35]
Добавляю в виртуальную машину 'setun1958emu' новый форма файла для обмена тритными данными.

В том числе хранение компактное хранение виртуальной перфоленты с исходными кодами библиотек и прикладных программ.

Формат файла виртуальной перфоленты с расширением 'FileName.tsb'

 struct PaperTSBDesc {
 char tag[4] // "tsb " - тэг описание типа файла
 uint16_t len; // the size of the digital punched tape
 uint16_t * file; // the size of the digital punched tape
 }

 —----------------------------------------
 Таб 1. Кодирование комбинация бит и тритов
 —----------------------------------------
 Биты Триты
 b4...b0 t2...t0
 —----------------------------------------
 01110 —-
 01011 —0
 11011 —+
 01100 -0-
 00011 -00
 10011 -0+
 01101 -+-
 00111 -+0
 10111 -++
 01010 0--
 01000 0-0
 01001 0-+
 00010 00-
 01111 000
 00001 00+
 00110 0+-
 00100 0+0
 00101 0++
 11010 +--
 11000 +-0
 11001 +-+
 10010 +0-
 10000 +00
 10001 +0+
 10110 ++-
 10101 ++0
 10100 +++
 —----------------------------------------

 Описание поля бит элемента тип данных uint16_t elm
 бинарного файла виртуальной перфоленты.

 —----------------------------------------
 - Элемент бинарного файла виртуальной перфоленты uint16_t elm
 (field bits of type data)
 - trits[...] закодированный трит из 5 бит
 —----------------------------------------
 elm b15...b0
 —----------------------------------------
 b15 b14...b10 b9...b5 b4...b0
 parity bit trits2 trits1 trits0
 —-----------------------------------------
 Алгоритм расчёта бита четности:

 ParityBit = o


Вариант №2
----------

Формат файла виртуальной перфоленты с расширением 'FileName.tsb'

 struct PaperTSBDesc {
 char tag[4]     // "tsb " - тэг описание типа файла
 uint16_t len;   // the size of the digital punched tape
 uint8_t * file; // the array of the digital punched tape
 }

 —----------------------------------------
 Таб 1. Кодирование комбинация бит и тритов
 —--------
 Биты Трит
 b1b0  t0
 —--------
 10     +
 00     0
 01     -
 —--------

 Описание поля бит элемента тип данных uint8_t elm
 бинарного файла виртуальной перфоленты.

 -----—-----------------------------------------------
 Таб 2. Элемент бинарного файла виртуальной перфоленты
 uint8_t elm
 (field bits of type data)
 [t2t1t0] закодированный трит из 6 бит [b5b4b3b2b1b0]
 —----------------------------------------------------
 elm b7...b0
 —----------------------------------------------------
 b7  b6        b5b4   b3b2   b1b0
 0   parity    trit2  trit1  trit0
 —----------------------------------------------------
 Примечание:
 Код 11 является недопустимым и используется для контроля валидности трита.
 При загрузке выполнить аврийный останов загрузки бинарного варианта
 виртуальной перфоленты.


# 2. Алгоритм каклькулятора с использованием языка С и
     виртуальной машины Setun1958emu

Шаг 0. Копировать с фотосчитывания tr1 в зону 0 во FRAM код загрузки приложения
       и выполнить начальную загрузку.

Шаг 1. Загрузить зоны DRUM для ИП-Т
1W
1X
1Y
1Z
10
11
12
13
14
2W
40
41
42
43
44

Шаг 2. Загрузить зоны DRUM приложение выполнения математических операций.
ZW

Шаг 3. Копировать из DRUM зоны ZX в зону 1 во FRAM.

Шаг 4. Копировать из DRUM зоны 1X в зону Z во FRAM основную зону ИП-Т.

Шаг 5. Переход на код в зоне 1 FRAM команды STOP.
